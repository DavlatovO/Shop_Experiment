{% extends 'dashboard/base.html' %}

{% block content %}

            
    <!-- Content Wrapper START -->
    <div class="main-content">
        <div class="page-header">
            <h2 class="header-title">SHOP</h2>
            <div class="header-sub-title">
                <nav class="breadcrumb breadcrumb-dash">
                    <a href="#" class="breadcrumb-item"><i class="anticon anticon-home m-r-5"></i>Dashboard</a>
                    <a class="breadcrumb-item" href="#">Maxsulot</a>
                    <span class="breadcrumb-item active">Yaratish</span>
                </nav>
            </div>
        </div>
        <div class="card">
            <div class="card-body">
                <h4>Maxsulot yaratish</h4>
                <div class="m-t-25" style="max-width: 700px">
                    <form method="post" enctype="multipart/form-data">{% csrf_token %}
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-2 col-form-label">Nom</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputPassword3" placeholder="..." name="name">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-2 col-form-label">Category</label>
                            <div class="col-sm-10">
                                <select name="category_id" class="form-control">
                                    {% for c in categorys %}
                                    <option value="{{c.id}}">{{c.name}}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-2 col-form-label">Narx</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" id="inputPassword3" placeholder="..." name="price">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-2 col-form-label">Son/Miqdor</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" id="inputPassword3" placeholder="..." name="quantity">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-2 col-form-label">Yetkazib berish</label>
                            <div class="col-sm-10">
                                <input type="checkbox" id="inputPassword3" placeholder="..." name="delivery">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-2 col-form-label">Batafsil</label>
                            <div class="col-sm-10">
                                <textarea name="body" class="form-control" cols="30" rows="10"></textarea>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-2 col-form-label">Banner rasm</label>
                            <div class="col-sm-10">
                                <input type="file" class="form-control" id="inputPassword3" name="banner_img">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-2 col-form-label">Rasmlar</label>
                            <div class="col-sm-10">
                              <input type="file" class="form-control" id="inputPassword3" name="images" multiple>
                              <ul id="fileList" class="list-group mt-3"></ul>
                            </div>
                          </div>
                          
                          <style>
                          #fileList .list-group-item {
                            border-radius: 0;
                            padding: 10px;
                            border-bottom: 1px solid #eee;
                          }
                          
                          #fileList .list-group-item:last-child {
                            border-bottom: none;
                          }
                          
                          #fileList .list-group-item .filename {
                            font-weight: bold;
                          }
                          
                          #fileList .list-group-item .filetype {
                            color: #666;
                          }
                          
                          #fileList .list-group-item .filesize {
                            float: right;
                            color: #999;
                          }
                          </style>
                          
                          <script>
                          const input = document.querySelector('input[name=images]');
                          const list = document.querySelector('#fileList');
                          
                          input.addEventListener('change', () => {
                            list.innerHTML = '';
                            const files = input.files;
                            for (let i = 0; i < files.length; i++) {
                              const file = files[i];
                              const item = document.createElement('li');
                              const filename = document.createElement('div');
                              const filetype = document.createElement('div');
                              const filesize = document.createElement('div');
                          
                              item.classList.add('list-group-item');
                              filename.classList.add('filename');
                              filetype.classList.add('filetype');
                              filesize.classList.add('filesize');
                          
                              filename.textContent = file.name;
                              filetype.textContent = file.type;
                              filesize.textContent = `${file.size} bytes`;
                          
                              item.appendChild(filename);
                              item.appendChild(filetype);
                              item.appendChild(filesize);
                          
                              list.appendChild(item);
                            }
                          });
                          </script>
                        <div class="form-group row">
                            <div class="col-sm-10">
                                <button type="submit" class="btn btn-primary">Yaratish</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Content Wrapper END -->


{% endblock %}